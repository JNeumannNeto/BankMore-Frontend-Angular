<div class="fade-in">
    <div class="register-card">
        <div class="card">
            <div class="card-header text-center">
                <h4><i class="bi bi-person-plus"></i> Criar Conta</h4>
            </div>
            <div class="card-body">
                <form name="registerForm" ng-submit="register()" novalidate>
                    <!-- Name Field -->
                    <div class="mb-3">
                        <label for="name" class="form-label">Nome Completo</label>
                        <input type="text" class="form-control" id="name" 
                               ng-model="registerData.name" 
                               placeholder="Digite seu nome completo"
                               maxlength="100"
                               required>
                        <div class="invalid-feedback" ng-show="registerForm.name.$invalid && registerForm.name.$touched">
                            Nome é obrigatório
                        </div>
                    </div>

                    <!-- CPF Field -->
                    <div class="mb-3">
                        <label for="cpf" class="form-label">CPF</label>
                        <input type="text" class="form-control" id="cpf" name="cpf"
                               ng-model="registerData.cpf" 
                               placeholder="000.000.000-00"
                               maxlength="14"
                               ng-change="formatCpf()"
                               ng-blur="validateCpf()"
                               required>
                        <div class="invalid-feedback" ng-show="registerForm.cpf.$invalid && registerForm.cpf.$touched">
                            <span ng-if="registerForm.cpf.$error.required">CPF é obrigatório</span>
                            <span ng-if="registerForm.cpf.$error.cpf">CPF inválido</span>
                        </div>
                    </div>

                    <!-- Password Field -->
                    <div class="mb-3">
                        <label for="password" class="form-label">Senha</label>
                        <input type="password" class="form-control" id="password" 
                               ng-model="registerData.password" 
                               placeholder="Mínimo 6 caracteres"
                               minlength="6"
                               required>
                        <div class="invalid-feedback" ng-show="registerForm.password.$invalid && registerForm.password.$touched">
                            <span ng-if="registerForm.password.$error.required">Senha é obrigatória</span>
                            <span ng-if="registerForm.password.$error.minlength">Senha deve ter no mínimo 6 caracteres</span>
                        </div>
                    </div>

                    <!-- Confirm Password Field -->
                    <div class="mb-3">
                        <label for="confirmPassword" class="form-label">Confirmar Senha</label>
                        <input type="password" class="form-control" id="confirmPassword" 
                               ng-model="registerData.confirmPassword" 
                               placeholder="Digite a senha novamente"
                               required>
                        <div class="invalid-feedback" ng-show="registerForm.confirmPassword.$invalid && registerForm.confirmPassword.$touched">
                            Confirmação de senha é obrigatória
                        </div>
                        <div class="invalid-feedback" ng-show="registerData.password !== registerData.confirmPassword && registerData.confirmPassword">
                            As senhas não coincidem
                        </div>
                    </div>

                    <!-- Success Message -->
                    <div class="alert alert-success" ng-show="success">
                        <i class="bi bi-check-circle"></i> {{success}}
                    </div>

                    <!-- Error Message -->
                    <div class="alert alert-danger" ng-show="error">
                        <i class="bi bi-exclamation-triangle"></i> {{error}}
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" class="btn btn-primary w-100" ng-disabled="loading || success">
                        <span ng-if="loading" class="loading-spinner"></span>
                        <i class="bi bi-person-plus" ng-if="!loading"></i>
                        {{loading ? 'Criando conta...' : 'Criar Conta'}}
                    </button>
                </form>

                <hr>
                
                <div class="text-center">
                    <p class="mb-0">Já tem uma conta?</p>
                    <a href="#!/login" class="btn btn-link">
                        <i class="bi bi-box-arrow-in-right"></i> Fazer login
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
